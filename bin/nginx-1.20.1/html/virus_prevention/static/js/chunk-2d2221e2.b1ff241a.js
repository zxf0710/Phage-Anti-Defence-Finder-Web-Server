(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2221e2"],{ccf2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("div",{staticStyle:{margin:"0 0 20px 0","text-align":"center","font-size":"xx-large","font-weight":"bolder"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("Protein Sequence Matching")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("Genomic Matching")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.pshow,expression:"pshow"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"50%",margin:"10px 25%"},attrs:{"element-loading-text":"Matching,Please wait...","element-loading-spinner":"el-icon-loading"}},[a("span",[e._v("Enter email account number")]),a("br"),a("br"),a("el-input",{attrs:{clearable:"",placeholder:"Please enter the email account number to which you receive it"},model:{value:e.mail,callback:function(t){e.mail=t},expression:"mail"}}),a("div",{staticStyle:{width:"60%",margin:"30px 20%"}},[a("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-left":"20px"},attrs:{accept:".fasta",limit:1,drag:"",action:"#","auto-upload":!1,"file-list":e.sequenceFile,"on-exceed":e.handleExceed,"on-change":e.handleChange}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("Please drag the file here, or"),a("em",[e._v("Click Upload")]),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("Only one fasta file can be uploaded")])])])],1),a("div",{staticStyle:{"margin-right":"10%","text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-help"},on:{click:e.matchSequence}},[e._v("matching")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.gshow,expression:"gshow"},{name:"loading",rawName:"v-loading",value:e.gloading,expression:"gloading"}],staticStyle:{width:"50%",margin:"10px 25%"},attrs:{"element-loading-text":"Matching,Please wait...(up to 5 minutes)","element-loading-spinner":"el-icon-loading"}},[a("span",[e._v("Enter email account number")]),a("br"),a("br"),a("el-input",{attrs:{clearable:"",placeholder:"Please enter the email account number to which you receive it"},model:{value:e.gmail,callback:function(t){e.gmail=t},expression:"gmail"}}),a("div",{staticStyle:{width:"60%",margin:"30px 20%"}},[a("el-upload",{staticClass:"upload-demo",staticStyle:{"margin-left":"20px"},attrs:{accept:".fasta",limit:1,drag:"",action:"#","auto-upload":!1,"file-list":e.genomeFile,"on-exceed":e.ghandleExceed,"on-change":e.ghandleChange}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("Please drag the file here, or"),a("em",[e._v("Click Upload")]),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red"},attrs:{slot:"tip"},slot:"tip"},[e._v("Only one fasta file can be uploaded")])])])],1),a("div",{staticStyle:{"margin-right":"10%","text-align":"center"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-help"},on:{click:e.matchGenome}},[e._v("matching")])],1)],1)])},s=[],l=(a("ac1f"),a("00b4"),a("b775"));function n(e){return Object(l["a"])({url:"/system/sequence/upload",method:"put",data:e})}function o(e){return Object(l["a"])({url:"/system/list/gupload",method:"put",data:e})}var c={name:"index",data:function(){return{mail:"",sequenceFile:[],isupload:!0,loading:!1,radio:"1",pshow:!0,gshow:!1,timer:null,gmail:"",genomeFile:[],gisupload:!0,gloading:!1}},created:function(){clearInterval(this.timer),this.timer=null,this.setTimer()},methods:{handleExceed:function(){this.$message({showClose:!0,message:"You are limited to one fasta file at a time, if you want to upload additional files, remove the current file first!",type:"warning"})},handleChange:function(e,t){this.sequenceFile=t},matchSequence:function(){var e=this;this.loading=!0;var t=/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;if(""==this.mail)this.$message({showClose:!0,message:"The email account cannot be empty!",type:"warning"});else if(t.test(this.mail)){if(t.test(this.mail))if(0==this.sequenceFile.length)this.$message({showClose:!0,message:"No file selected!",type:"warning"});else if(1==this.sequenceFile.length){var a=new FormData;a.append("mail",this.mail),a.append("inputFile",this.sequenceFile[0].raw),n(a).then((function(t){1==t&&(e.loading=!1,e.$message({showClose:!0,message:"The match is successful, the matching result has been sent to your mailbox, please pay attention to check!",type:"success"}),e.mail="",e.sequenceFile=[],e.isupload=!0)})).catch((function(e){console.log(e)}))}else this.$message({showClose:!0,message:"出大问题了!",type:"error"})}else this.$message({showClose:!0,message:"The email account is incorrect!",type:"warning"})},changeRadio:function(){"1"==this.radio?(this.pshow=!0,this.gshow=!1):"2"==this.radio&&(this.pshow=!1,this.gshow=!0)},setTimer:function(){var e=this;null==this.timer&&(this.timer=setInterval((function(){e.changeRadio()}),500))},ghandleExceed:function(){this.$message({showClose:!0,message:"You are limited to one fasta file at a time, if you want to upload additional files, remove the current file first!",type:"warning"})},ghandleChange:function(e,t){this.genomeFile=t},matchGenome:function(){var e=this;this.gloading=!0;var t=/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;if(""==this.gmail)this.$message({showClose:!0,message:"The email account cannot be empty!",type:"warning"});else if(t.test(this.gmail)){if(t.test(this.gmail))if(0==this.genomeFile.length)this.$message({showClose:!0,message:"No file selected!",type:"warning"});else if(1==this.genomeFile.length){var a=new FormData;a.append("mail",this.gmail),a.append("inputFile",this.genomeFile[0].raw),o(a).then((function(t){1==t&&(e.gloading=!1,e.$message({showClose:!0,message:"The match is successful, the matching result has been sent to your mailbox, please pay attention to check!",type:"success"}),e.gmail="",e.genomeFile=[],e.gisupload=!0)})).catch((function(e){console.log(e)}))}else this.$message({showClose:!0,message:"出大问题了!",type:"error"})}else this.$message({showClose:!0,message:"The email account is incorrect!",type:"warning"})}},destroyed:function(){clearInterval(this.timer),this.timer=null}},r=c,h=a("2877"),m=Object(h["a"])(r,i,s,!1,null,"99c974ca",null);t["default"]=m.exports}}]);